# CADRooms åœºæ™¯ç®¡ç†å™¨

ä¸€ä¸ªé›†æˆäº† HOOPS Web Viewer å’Œ Supabase åç«¯çš„ React + TypeScript 3D è£…é…åœºæ™¯ç®¡ç†åº”ç”¨ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æä¾›äº†ä¸€ä¸ªåŸºäº Web çš„ç•Œé¢,ç”¨äºåˆ›å»ºã€ç¼–è¾‘å’ŒæŸ¥çœ‹ 3D è£…é…åœºæ™¯ã€‚ç”¨æˆ·å¯ä»¥:

- ç®¡ç†åœºæ™¯é›†åˆ(åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤)
- ä½¿ç”¨ HOOPS Web Viewer æŸ¥çœ‹ 3D æ¨¡å‹
- ä»é›¶ä»¶åº“æ‹–æ”¾é›¶ä»¶åˆ°åœºæ™¯ä¸­
- äº¤äº’å¼ç¼–è¾‘åœºæ™¯è£…é…
- åœ¨ Supabase ä¸­æŒä¹…åŒ–åœºæ™¯æ•°æ®

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### åœºæ™¯ç®¡ç†

- **åœºæ™¯åˆ—è¡¨**: æŸ¥çœ‹æ‰€æœ‰åœºæ™¯,æŒ‰æœ€åæ›´æ–°æ—¶é—´æ’åº
- **åˆ›å»ºåœºæ™¯**: æ·»åŠ å¸¦æœ‰åç§°å’Œæè¿°çš„æ–°åœºæ™¯
- **ç¼–è¾‘åœºæ™¯ä¿¡æ¯**: æ›´æ–°åœºæ™¯å…ƒæ•°æ®
- **åˆ é™¤åœºæ™¯**: å¸¦ç¡®è®¤çš„åœºæ™¯åˆ é™¤
- **å®æ—¶æ›´æ–°**: ä¿®æ”¹åè‡ªåŠ¨åˆ·æ–°

### 3D æŸ¥çœ‹å™¨

- **HOOPS é›†æˆ**: ç›´æ¥é›†æˆ Tech Soft 3D çš„ `assembly_creator` ä½œä¸º React ç»„ä»¶
- **é›¶ä»¶åº“**: åŒ…å« 15 ä¸ªå¯ç”¨é›¶ä»¶çš„å¯è§†åŒ–ç›®å½•å’Œç¼©ç•¥å›¾
- **æ‹–æ”¾åŠŸèƒ½**: åœ¨ 3D ç©ºé—´ä¸­ç›´è§‚æ”¾ç½®é›¶ä»¶
- **äº¤äº’å¼è§†å›¾**: æ—‹è½¬ã€ç¼©æ”¾å’Œå¹³ç§» 3D åœºæ™¯
- **åæ ‡è½´**: å¯è§†åŒ–æ–¹å‘è¾…åŠ©å·¥å…·

### åœºæ™¯ç¼–è¾‘å™¨

- **é›¶ä»¶ç®¡ç†**: åœ¨è£…é…ä¸­æ·»åŠ å’Œåˆ é™¤é›¶ä»¶
- **é€‰æ‹©åŠŸèƒ½**: ç‚¹å‡»é€‰æ‹©åœºæ™¯ä¸­çš„é›¶ä»¶
- **åˆ é™¤é›¶ä»¶**: ä»è£…é…ä¸­ç§»é™¤é€‰ä¸­çš„é›¶ä»¶
- **ä¿å­˜åœºæ™¯**: å°†åœºæ™¯çŠ¶æ€æŒä¹…åŒ–åˆ°æ•°æ®åº“

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 19 + TypeScript 5.9
- **æ„å»ºå·¥å…·**: Vite 7 (rolldown-vite fork)
- **åç«¯**: Supabase (PostgreSQL + å®¢æˆ·ç«¯ SDK)
- **3D æŸ¥çœ‹å™¨**: HOOPS Web Viewer 2024.0.0
- **åŒ…ç®¡ç†å™¨**: pnpm
- **ä»£ç æ£€æŸ¥**: ESLint 9 + React æ’ä»¶

## ğŸ“ é¡¹ç›®ç»“æ„

```
take-home/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ parts/                      # 3D æ¨¡å‹æ–‡ä»¶(.scs)å’Œç¼©ç•¥å›¾
â”‚   â”‚   â”œâ”€â”€ parts_list.json         # é›¶ä»¶ç›®å½•(15ä¸ªé›¶ä»¶)
â”‚   â”‚   â”œâ”€â”€ housing.scs/.png        # å•ä¸ªé›¶ä»¶æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ test-viewer.html            # HOOPS Viewer æµ‹è¯•é¡µé¢
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ScenesList.tsx          # åœºæ™¯ç®¡ç†UI(CRUD)
â”‚   â”‚   â”œâ”€â”€ SceneViewer.tsx         # 3Dåœºæ™¯æŸ¥çœ‹å™¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SceneEditor.tsx         # äº¤äº’å¼åœºæ™¯ç¼–è¾‘å™¨
â”‚   â”‚   â””â”€â”€ PartsList.tsx           # å¯æ‹–æ‹½é›¶ä»¶åº“
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ supabase.ts             # Supabase å®¢æˆ·ç«¯å•ä¾‹
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ index.ts                # Scene ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ hoops.d.ts              # HOOPS Web Viewer ç±»å‹
â”‚   â”œâ”€â”€ App.tsx                     # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.tsx                    # åº”ç”¨å…¥å£ç‚¹
â”‚   â””â”€â”€ index.css                   # å…¨å±€æ ·å¼
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/
â”‚       â””â”€â”€ 20250108000000_create_scenes_table.sql  # æ•°æ®åº“æ¨¡å¼
â”œâ”€â”€ .env.local                      # ç¯å¢ƒå˜é‡(å·²å¿½ç•¥)
â”œâ”€â”€ CLAUDE.md                       # Claude Code ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ PROJECT_PLAN.md                 # å¼€å‘è¿›åº¦æŠ¥å‘Š
â”œâ”€â”€ README.md                       # è‹±æ–‡æ–‡æ¡£
â”œâ”€â”€ README-zh.md                    # ä¸­æ–‡æ–‡æ¡£
â””â”€â”€ package.json                    # é¡¹ç›®é…ç½®
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Node.js**: v18 æˆ–æ›´é«˜
- **pnpm**: v8 æˆ–æ›´é«˜
- **Supabase CLI**: ç”¨äºæœ¬åœ°å¼€å‘
- **Git**: ç”¨äºç‰ˆæœ¬æ§åˆ¶

### ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶,åŒ…å«æ‚¨çš„ Supabase å‡­è¯:

```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_API_KEY=your_supabase_anon_key
```

**æœ¬åœ° Supabase ç¤ºä¾‹:**

```env
VITE_SUPABASE_URL=http://localhost:54321
VITE_SUPABASE_API_KEY=your_local_anon_key
```

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**

   ```bash
   git clone <repository-url>
   cd take-home
   ```

2. **å®‰è£…ä¾èµ–**

   ```bash
   pnpm install
   ```

3. **é…ç½® Supabase**

   **é€‰é¡¹ A: ä½¿ç”¨ Supabase Cloud**

   - åœ¨ [supabase.com](https://supabase.com) åˆ›å»ºé¡¹ç›®
   - å°†é¡¹ç›® URL å’Œ anon key å¤åˆ¶åˆ° `.env.local`
   - è¿è¡Œè¿ç§»(è§ä¸‹æ–¹æ•°æ®åº“è®¾ç½®)

   **é€‰é¡¹ B: ä½¿ç”¨æœ¬åœ° Supabase**

   ```bash
   # å¯åŠ¨ Supabase æœ¬åœ°å®ä¾‹
   supabase start

   # å°† API URL å’Œ anon key å¤åˆ¶åˆ° .env.local
   # è¿™äº›ä¿¡æ¯ä¼šåœ¨ Supabase å¯åŠ¨åæ˜¾ç¤º
   ```

4. **è¿è¡Œæ•°æ®åº“è¿ç§»**

   ```bash
   # å¯¹äºæœ¬åœ° Supabase
   supabase db reset

   # æˆ–æ‰‹åŠ¨æ‰§è¡Œè¿ç§»æ–‡ä»¶
   psql <connection-string> < supabase/migrations/20250108000000_create_scenes_table.sql
   ```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

   ```bash
   pnpm dev
   ```

   åº”ç”¨å°†åœ¨ `http://localhost:5173/` æ‰“å¼€

## ğŸ“Š æ•°æ®åº“æ¨¡å¼

### `scenes` è¡¨

| åˆ—å          | ç±»å‹        | æè¿°                 |
| ------------- | ----------- | -------------------- |
| `id`          | UUID        | ä¸»é”®(è‡ªåŠ¨ç”Ÿæˆ)       |
| `name`        | TEXT        | åœºæ™¯åç§°(å¿…å¡«)       |
| `description` | TEXT        | åœºæ™¯æè¿°(å¯é€‰)       |
| `assets`      | TEXT[]      | èµ„æºæ–‡ä»¶åæ•°ç»„       |
| `created_at`  | TIMESTAMPTZ | åˆ›å»ºæ—¶é—´æˆ³(è‡ªåŠ¨)     |
| `updated_at`  | TIMESTAMPTZ | æœ€åæ›´æ–°æ—¶é—´æˆ³(è‡ªåŠ¨) |

**ç‰¹æ€§:**

- é€šè¿‡è§¦å‘å™¨è‡ªåŠ¨æ›´æ–° `updated_at` æ—¶é—´æˆ³
- åœ¨ `updated_at` ä¸Šå»ºç«‹ç´¢å¼•ä»¥æé«˜æ’åºæ•ˆç‡
- UUID ä¸»é”®ä¿è¯å…¨å±€å”¯ä¸€æ€§

## ğŸ® ä½¿ç”¨æŒ‡å—

### ç®¡ç†åœºæ™¯

1. **åˆ›å»ºåœºæ™¯**

   - ç‚¹å‡»"Create New Scene"æŒ‰é’®
   - è¾“å…¥åç§°(å¿…å¡«)å’Œæè¿°(å¯é€‰)
   - ç‚¹å‡»"Create"

2. **ç¼–è¾‘åœºæ™¯å…ƒæ•°æ®**

   - ç‚¹å‡»ä»»æ„åœºæ™¯çš„"Edit Info"
   - ä¿®æ”¹åç§°å’Œ/æˆ–æè¿°
   - ç‚¹å‡»"Update"

3. **åˆ é™¤åœºæ™¯**
   - ç‚¹å‡»ä»»æ„åœºæ™¯çš„"Delete"
   - åœ¨å¯¹è¯æ¡†ä¸­ç¡®è®¤åˆ é™¤

### ä½¿ç”¨ 3D åœºæ™¯

1. **æŸ¥çœ‹åœºæ™¯**

   - ç‚¹å‡»ä»»æ„åœºæ™¯çš„"View"
   - 3D æŸ¥çœ‹å™¨æ‰“å¼€,é»˜è®¤åŠ è½½ housing æ¨¡å‹
   - åœ¨å³ä¾§é¢æ¿æµè§ˆå¯ç”¨é›¶ä»¶

2. **ç¼–è¾‘åœºæ™¯**
   - ç‚¹å‡»ä»»æ„åœºæ™¯çš„"Edit 3D"
   - ä»å³ä¾§é¢æ¿æ‹–æ‹½é›¶ä»¶åˆ° 3D è§†å›¾
   - ç‚¹å‡»é›¶ä»¶è¿›è¡Œé€‰æ‹©
   - ä½¿ç”¨"Delete Selected"åˆ é™¤é›¶ä»¶
   - ç‚¹å‡»"Save"ä¿å­˜æ›´æ”¹

### é›¶ä»¶åº“

é›¶ä»¶åº“åŒ…å« 15 ä¸ªæœºæ¢°é›¶ä»¶:

- Axe(è½´)
- Bearings(è½´æ‰¿: CS, Pr Dw, Pr Up)
- Carburetor(åŒ–æ²¹å™¨)
- Crankshaft(æ›²è½´)
- Cylinder Liner(æ°”ç¼¸å¥—)
- Housing(å¤–å£³: Main, Back, Front, Top)
- Piston(æ´»å¡)
- Push Rod(æ¨æ†)
- Screws(èºä¸: Back, Top)

æ¯ä¸ªé›¶ä»¶éƒ½æ˜¾ç¤ºç¼©ç•¥å›¾é¢„è§ˆä»¥ä¾¿è¯†åˆ«ã€‚

## ğŸ”§ å¼€å‘

### å¯ç”¨è„šæœ¬

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨(è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨)
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬(TypeScript æ£€æŸ¥ + Vite æ„å»º)
pnpm build

# é¢„è§ˆç”Ÿäº§æ„å»º
pnpm preview

# è¿è¡Œä»£ç æ£€æŸ¥
pnpm lint
```

### TypeScript é…ç½®

é¡¹ç›®ä½¿ç”¨ä¸¥æ ¼çš„ TypeScript æ¨¡å¼:

- `noUnusedLocals`: true
- `noUnusedParameters`: true
- `strictNullChecks`: true
- Target: ES2022
- Module resolution: bundler æ¨¡å¼

### æµ‹è¯• HOOPS Viewer

ç‹¬ç«‹æµ‹è¯•é¡µé¢ `/test-viewer.html` å¯ç”¨äºç‹¬ç«‹äº React åº”ç”¨éªŒè¯ HOOPS Web Viewer åŠŸèƒ½ã€‚

## ğŸ“¦ æ„å»ºå’Œéƒ¨ç½²

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
```

è¾“å‡ºå°†åœ¨ `dist/` ç›®å½•ä¸­ã€‚

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
pnpm preview
```

åœ¨ `http://localhost:4173/` æä¾›ç”Ÿäº§æ„å»ºæœåŠ¡

## âš ï¸ å·²çŸ¥é™åˆ¶

1. **åˆå§‹æ¨¡å‹åŠ è½½**: æŸ¥çœ‹å™¨å½“å‰åœ¨å¯åŠ¨æ—¶é»˜è®¤åŠ è½½ `housing.scs` ä½œä¸ºåˆå§‹æ¨¡å‹ã€‚

2. **åœºæ™¯æŒä¹…åŒ–**: åœºæ™¯é…ç½®(é›¶ä»¶ä½ç½®ã€æ—‹è½¬)å°šæœªå®Œå…¨æŒä¹…åŒ–åˆ° Supabase Storageã€‚

3. **é›¶ä»¶æ–‡ä»¶**: ä»…ä¸‹è½½äº† 15 ä¸ªé›¶ä»¶ä¸­çš„ 6 ä¸ª:

   - housing, piston, crankshaft, bearing_CS, cylinder_liner, carburetor
   - å‰©ä½™ 9 ä¸ªé›¶ä»¶éœ€è¦æ·»åŠ ä»¥å®ç°å®Œæ•´åŠŸèƒ½

4. **æµè§ˆå™¨å…¼å®¹æ€§**: ä¸»è¦åœ¨ Chrome ä¸Šæµ‹è¯•ã€‚Firefox å’Œ Safari å…¼å®¹æ€§æœªå®Œå…¨éªŒè¯ã€‚

5. **æ–‡ä»¶ä¸Šä¼ **: ç›´æ¥ .scs æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½å°šæœªå®ç°ã€‚

## ğŸ”® æœªæ¥æ”¹è¿›

### é«˜ä¼˜å…ˆçº§

- [ ] å®Œæˆåœºæ™¯æŒä¹…åŒ–(ä¿å­˜/åŠ è½½é›¶ä»¶ä½ç½®)
- [ ] Supabase Storage é›†æˆç”¨äº .scs æ–‡ä»¶
- [ ] ä¸‹è½½å‰©ä½™ 9 ä¸ªé›¶ä»¶æ–‡ä»¶
- [ ] ä¿®å¤æŸ¥çœ‹å™¨åˆå§‹åŒ–é—®é¢˜(å¦‚æœ‰)

### ä¸­ä¼˜å…ˆçº§

- [ ] æ’¤é”€/é‡åšåŠŸèƒ½
- [ ] é›¶ä»¶æ—‹è½¬æ§åˆ¶
- [ ] è£…é…çº¦æŸ(å…±çº¿ã€åŒå¿ƒã€å…±é¢)
- [ ] åœºæ™¯å¯¼å‡ºä¸º JSON
- [ ] åŠ è½½è¿›åº¦æŒ‡ç¤ºå™¨

### ä½ä¼˜å…ˆçº§

- [ ] å•å…ƒæµ‹è¯•
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] å¤§å‹è£…é…çš„æ€§èƒ½ä¼˜åŒ–
- [ ] å¤šç”¨æˆ·åä½œåŠŸèƒ½

## ğŸ“š å‚è€ƒèµ„æ–™

- **HOOPS Web Viewer æ–‡æ¡£**: https://docs.techsoft3d.com/hoops/visualize-web/
- **assembly_creator æºç **: https://github.com/techsoft3d/assembly_creator
- **Supabase æ–‡æ¡£**: https://supabase.com/docs
- **Vite æ–‡æ¡£**: https://vitejs.dev/
- **React æ–‡æ¡£**: https://react.dev/

## ğŸ¤ è´¡çŒ®

è¿™æ˜¯ä¸€ä¸ªé¢è¯•é¡¹ç›®ã€‚å®é™…ä»»åŠ¡è¯·å‚è€ƒ:
https://github.com/wikifactory/cadrooms-interview

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºé¢è¯•ç›®çš„åˆ›å»ºã€‚

## ğŸ™ è‡´è°¢

- **Tech Soft 3D** æä¾›çš„ HOOPS Web Viewer å’Œ assembly_creator ç¤ºä¾‹
- **Supabase** æä¾›çš„åç«¯åŸºç¡€è®¾æ–½
- **Vite** å›¢é˜Ÿæä¾›çš„ä¼˜ç§€æ„å»ºå·¥å…·

---

**å¼€å‘çŠ¶æ€**: ç§¯æå¼€å‘ä¸­
**æœ€åæ›´æ–°**: 2025 å¹´ 1 æœˆ
**Node ç‰ˆæœ¬**: 18+
**åŒ…ç®¡ç†å™¨**: pnpm 8+
